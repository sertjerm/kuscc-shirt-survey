สรุป Requirements ระบบสำรวจและจัดการเสื้อ KUSCC
เอกสารนี้สรุปข้อกำหนดต่างๆ ของระบบ ทั้งในส่วนของฟังก์ชันการทำงาน (Functional) และส่วนที่ไม่ใช่ฟังก์ชัน (Non-Functional) เพื่อใช้เป็นแนวทางในการพัฒนาต่อยอด

1. Functional Requirements (ข้อกำหนดด้านฟังก์ชันการทำงาน)
1.1 ฝั่งผู้ใช้งาน (สมาชิกสหกรณ์)

R1.1 การยืนยันตัวตน:

ผู้ใช้ต้องกรอกข้อมูล 3 อย่างเพื่อเข้าระบบ: เลขสมาชิก (6 หลัก), เบอร์โทรศัพท์ (10 หลัก), และเลขบัตรประชาชน (3 หลักสุดท้าย)

ระบบต้องตรวจสอบความถูกต้องของรูปแบบข้อมูลที่กรอก

ระบบต้องตรวจสอบว่าเลขสมาชิกนั้นมีอยู่ในฐานข้อมูล initial_members หรือไม่ หากไม่มีจะแสดงข้อความผิดพลาด

R1.2 การทำแบบสำรวจขนาดเสื้อ:

เมื่อเข้าระบบสำเร็จ ผู้ใช้จะเข้าสู่หน้าเลือกขนาดเสื้อ

หน้านี้จะแสดงรูปตัวอย่างเสื้อ และตารางขนาดเสื้อให้เลือก (XS - 6XL) พร้อมบอกขนาดรอบอกและความยาว

ผู้ใช้สามารถเลือกขนาดเสื้อได้เพียง 1 ขนาด และขนาดที่เลือกจะถูกไฮไลท์

หากผู้ใช้เคยบันทึกข้อมูลแล้ว ระบบจะแสดงขนาดที่เคยเลือกไว้ให้ แต่สามารถเปลี่ยนใหม่ได้

เมื่อผู้ใช้กดยืนยัน ข้อมูลจะถูกบันทึกลงในฐานข้อมูล shirt_surveys พร้อมประทับเวลา (Timestamp)

ระบบต้องแสดงข้อความแจ้งผลการบันทึก (สำเร็จ หรือ ล้มเหลว)

1.2 ฝั่งผู้ดูแลระบบ (เจ้าหน้าที่)

R2.1 การเข้าสู่หน้าจอผู้ดูแล:

มีปุ่มสำหรับสลับหน้าจอระหว่างฝั่งผู้ใช้งานและฝั่งผู้ดูแลระบบ

R2.2 การค้นหาและบันทึกการรับเสื้อ:

เจ้าหน้าที่สามารถค้นหาสมาชิกจาก "เลขสมาชิก"

ผลการค้นหาต้องแสดงสถานะของสมาชิกอย่างชัดเจน:

ยังไม่ยืนยันขนาด: สมาชิกที่ยังไม่เคยทำแบบสำรวจ

ยืนยันแล้ว: สมาชิกที่ทำแบบสำรวจแล้ว แต่ยังไม่มารับเสื้อ

รับแล้ว: สมาชิกที่รับเสื้อไปแล้ว พร้อมข้อมูลผู้รับ

เจ้าหน้าที่สามารถคลิกที่สมาชิกที่ "ยังไม่ยืนยันขนาด" หรือ "ยืนยันแล้ว" เพื่อเข้าสู่หน้าบันทึกการรับเสื้อ

R2.3 การบันทึกข้อมูลการรับเสื้อ:

แสดงข้อมูลเลขสมาชิกและขนาดเสื้อที่สมาชิกเลือกไว้

กรณีสมาชิกมารับเอง: บันทึกข้อมูลได้ทันที

กรณีมีผู้รับแทน: ต้องกรอก "เลขสมาชิก" และ "ชื่อ-สกุล" ของผู้รับแทน (ระบบจะค้นหาชื่อให้อัตโนมัติหากกรอกเลขสมาชิก)

การเปลี่ยนขนาด ณ จุดรับของ: เจ้าหน้าที่สามารถเปลี่ยนขนาดเสื้อให้สมาชิกได้ กรณีที่ขนาดเดิมหมด หรือสมาชิกต้องการเปลี่ยน

เมื่อบันทึกการรับเสื้อ ข้อมูลจะถูกอัปเดตใน shirt_surveys โดยจะเก็บทั้งขนาดเดิม (Original) และขนาดที่รับจริง (Final) พร้อมประทับเวลาและรายละเอียดผู้รับ

R2.4 การจัดการสต็อกสินค้า (Inventory Management):

สรุปข้อมูลสต็อก: แสดงตารางสรุปจำนวนเสื้อแต่ละขนาด โดยมีข้อมูล:

ผลิต: จำนวนเสื้อทั้งหมดที่นำเข้าสต็อก

จอง: จำนวนสมาชิกที่เลือกขนาดนั้นๆ แต่ยังไม่มารับ

รับแล้ว: จำนวนเสื้อที่สมาชิกรับไปแล้วจริงๆ (นับจาก Final Size)

คงเหลือ: ผลิต - จอง - รับแล้ว (แถวที่มีสต็อกเหลือน้อยจะถูกไฮไลท์)

การเติม/เบิกสต็อก: เจ้าหน้าที่สามารถเพิ่ม (เติม) หรือลด (เบิก) จำนวนเสื้อในสต็อกของแต่ละขนาดได้

ประวัติสต็อก: ระบบต้องแสดงประวัติการเติม/เบิกสต็อกย้อนหลัง 10 รายการล่าสุด

ประวัติการรับ: ระบบต้องแสดงประวัติการรับเสื้อของสมาชิกย้อนหลัง 10 รายการล่าสุด

2. Non-Functional Requirements (ข้อกำหนดอื่นๆ)
NF1. ด้าน UI/UX:

การออกแบบต้องดูสะอาดตา ทันสมัย และใช้งานง่าย

รองรับการใช้งานบนอุปกรณ์หลากหลายขนาด (Responsive Design) ทั้ง Desktop และ Mobile

แสดงสถานะการทำงานให้ผู้ใช้ทราบ เช่น Loading, Success, Error

ภาษาที่ใช้ในแอปพลิเคชันคือภาษาไทย

NF2. ด้านฐานข้อมูล:

ใช้ Cloud Firestore ในการจัดเก็บข้อมูลทั้งหมด เพื่อให้ข้อมูลเป็น Real-time และง่ายต่อการขยายระบบ

โครงสร้างข้อมูลต้องถูกแบ่งเป็น Collections อย่างชัดเจน: initial_members, shirt_surveys, stock_summary, stock_transactions

NF3. ด้านความปลอดภัย:

(ข้อเสนอแนะ) การเข้าถึงหน้า Admin ควรมีการยืนยันตัวตนสำหรับเจ้าหน้าที่โดยเฉพาะ (เช่น Login ด้วย Email/Password) ไม่ใช่แค่การกดปุ่มสลับหน้าจอ เพื่อป้องกันการเข้าถึงข้อมูลโดยไม่ได้รับอนุญาต

NF4. ด้านประสิทธิภาพ:

การค้นหาและแสดงผลข้อมูลต้องรวดเร็ว

การคำนวณสรุปยอดสต็อกต้องถูกต้องและอัปเดตทันทีเมื่อมีการเปลี่ยนแปลงข้อมูล

